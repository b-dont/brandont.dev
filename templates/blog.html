{% extends "base.html" %}
{% block content %}

<h2 class="title">
  {{ section.title }}
</h2>
<p style="text-align: center;">
  <small>Subscribe to the <a href="/rss.xml" target="_blank">RSS feed</a>.</small>
</p>

<!-- Paginated Blog List - Displays 5 posts per page -->
<div class="blog-list">
{% for page in paginator.pages %}
  <a class="article-link" href="{{ page.permalink | safe }}">
    <article>
      <h3 class="article-header">{{ page.title }}</h3>
      <p>
        {% if page.updated %}
          <small style="color: #707682"><b>Updated · </b>{{ page.updated }} | </small>
        {% endif %}
        <small style="color: #707682"><b>Published · </b>{{ page.date }}</small>
        </br>

        {{ page.description | safe }}

        {% if page.taxonomies %}
          </br>
          {% set map = page.taxonomies %}
          {% set_global tags = [] %}

          {% for tax, tag in map %}
            {% set_global tags = tags | concat(with=tag) %}
          {% endfor %}

          {% for tag in tags %}
            <small>#{{ tag }} </small>
          {% endfor %}
        {% endif %}

      </p>
    </article>
  </a>
{% endfor %}
</div>

<!-- Pagination navigation -->
{% if paginator %}
<section class="pagination-nav">
  {% if paginator.previous %}
  <span style="text-align: left;"><a href="{{ paginator.first }}">‹‹ </a>
  <a href="{{ paginator.previous }}">‹ Prev</a>
  {% else %}
  <span style="text-align: left;" class="not-active">‹‹ ‹ Prev
  {% endif %}
  </span>

  <span><small>{{ paginator.current_index }} / {{ paginator.number_pagers }}</small></span>

  {% if paginator.next %}
  <span style="text-align: right;"><a href="{{ paginator.next }}">Next ›</a>
  <a href="{{ paginator.last }}"> ››</a>
  {% else %}
  <span style="text-align: right;" class="not-active">Next › ››
  {% endif %}
  </span>
</section>
{% endif %}
{% endblock content %}